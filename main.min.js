// Post View Counter 
$.each($("a[name]"), function(i, e) { 
    var elem = $(e).parent().find("#postviews"); 
    var blogStats = new Firebase("https://postviewcount-97f47-default-rtdb.firebaseio.com/pages/id/" + $(e).attr("name")); 
    blogStats.once("value", function(snapshot) { 
    var data = snapshot.val(); 
    var isnew = false; 
    if(data == null) { 
    data= {}; 
    data.value = 0; 
    data.url = window.location.href; 
    data.id = $(e).attr("name"); 
    isnew = true; 
    } 
    elem.text(data.value); 
    data.value++; 
    if(window.location.pathname!="/") { 
    if(isnew) 
    blogStats.set(data); 
    else 
    blogStats.child("value").set(data.value); 
    } 
    }); 
    }); 
    if(window.location.href.indexOf("thietkedocquyen.com")!= -1){
    }else if(window.location.href.indexOf("mrlaboratory")!= -1){}else{
    location.href = "https://www.mrlaboratory.info"}
    // Download click counter firebase
    $.each($("a[name]"), function(i, e) { 
    var elem = $(e).parent().find("#downloadview"); 
    var blogStats = new Firebase("https://postviewcount-97f47-default-rtdb.firebaseio.com/pages/id/" + $(e).attr("name")); 
    blogStats.once("value", function(snapshot) { 
    var data = snapshot.val(); 
    var isnew = false; 
    if(data == null) { 
    data= {}; 
    data.value = 0; 
    data.url = window.location.href; 
    data.id = $(e).attr("name"); 
    isnew = true; 
    } 
    elem.text(data.value); 
    }); 
    }); 
    function downloadcount(){
        $.each($("a[name]"), function(i, e) { 
    var elem = $(e).parent().find("#downloadview"); 
    var blogStats = new Firebase("https://mrdowncount-default-rtdb.firebaseio.com/pages/id/" + $(e).attr("name")); 
    
    blogStats.once("value", function(snapshot) { 
    var data = snapshot.val(); 
    var isnew = false; 
    if(data == null) { 
    data= {}; 
    data.value = 0; 
    data.url = window.location.href; 
    data.id = $(e).attr("name"); 
    isnew = true; 
    } 
    elem.text(data.value); 
    data.value++; 
    if(window.location.pathname!="/") { 
    if(isnew) 
    blogStats.set(data); 
    else 
    blogStats.child("value").set(data.value); 
    
    }}); }); }
    
    function copyaurl(){
      $(".sharediv .url button").text("Copyed");
    navigator.clipboard.writeText($(".sharediv .url input").val());
    }
    $(".container .fav").click(function() {
      var index = $(".container .fav").index( this );
      $('.container .fav:eq('+index+')').toggleClass("red");
    });
    $("#accordion h3").click(function() {
      var index = $("#accordion h3").index( this );
    $('#accordion p:eq('+index+')').slideToggle("slow");
    });
    $(".clicker .fa-share-alt").click(function() {
    $(".sharediv").fadeToggle();
    });
    $(".clicker .fa-comment").click(function(){
          $(".comdiv").animate({
            right: "-4px"
          });
      });
    $(".btn .fa-window-close").click(function(){
      $(".comdiv").animate({
        right: "-360px"
      });
    });
    
  
    function inputsearch(){
        var e = document.querySelector(".hbz-searchbox #Category").value;
        window.location.href="/search?q="+e+"+"+$( "input#hbz-input" ).val();
        }
        function commentsrcrep(){
        var commurl =document.querySelector("iframe#comment-editor").src;
        document.querySelector("iframe#comment-editor").src=commurl.replace(/(.*?)skin.*/i, "$1");
        }
          $("button.mobilemenu").on("click",function(){
        $('.manudiv').toggleClass('opacityfull');
              });
        
              $(".dropbtn").on("click",function(){
              var index = $(".dropbtn").index( this );
        $('.dropdown-content:eq('+index+')').fadeToggle();
        
              });
        $(window).resize(function() {imgrs();});
        $(document).ready(function() {imgrs();});
        
          $(function() {
          $('.labelanchor a').hover(function() {
            $('.labelanchor span.round').css('background-color', 'var(--bgcolor)');
          }, function() {
            $('.labelanchor span.round').css('background-color', '');
          });
        });
          jQuery.cachedScript=function(e,c){return c=$.extend(c||{},{dataType:"script",cache:!0,url:e}),jQuery.ajax(c)};
        $.when($.cachedScript("https://timeago.yarp.com/jquery.timeago.js"), $.Deferred(function (e) {
            $(e.resolve)
        })).done(function () {
            $("span.timeago").timeago();
        }).fail(function (e, o, c) {
            alert("Error Occured Whils loading Files")
        })
 $(window).resize(function() {imgrs();});
        $(document).ready(function() {imgrs();});
        
        function imgrs(){
          if ($(window).width() <= 600) {
            $('img').each(function() {
              $(this).attr('src', $(this).attr('data-mobil'));
                
            });
          } else if ($(window).width() <= 768) {
            $('img').each(function() {
              $(this).attr('src', $(this).attr('data-tablet'));
            });
          }
        }
        if($(window).width() <= 600){
        $('.forlabelsection').css({"grid-template-columns":"100%"})
        $('.blogalllabel').toggleClass('mobilellb');
        ;}
        $('span.btnlabel').on('click', function(){
            lllbl();
            });
            function lllbl(){
            $('.blogalllabel').toggleClass('mobilellb');
            $('#forlabelsectionstill').toggleClass('forlabelsection');}

    if($("span").hasClass("tcomment")) {
        if($(".tcomment").text().indexOf("No comments") != -1){
            $(".tcomment").text($(".tcomment").text().replace("No comments","0"))
        }  else if($(".tcomment").text().indexOf("comments") != -1){
            $(".tcomment").text($(".tcomment").text().replace("comments",""))
        }else if($(".tcomment").text().indexOf("comment") != -1){
            $(".tcomment").text($(".tcomment").text().replace("comment",""))
        }
     
    }
    // Ripple button effect by mrlaboratory
    var buttons = document.querySelectorAll('.ripple');
    Array.prototype.forEach.call(buttons, function (b) {
        b.addEventListener('click', createRipple);
    });
    function createRipple (e) {
        var circle = document.createElement('div');
        this.appendChild(circle);
        var d = Math.max(this.clientWidth, this.clientHeight);
        circle.style.width = circle.style.height = d + 'px';
    var rect = this.getBoundingClientRect();
    circle.style.left = e.clientX - rect.left -d/2 + 'px';
    circle.style.top = e.clientY - rect.top - d/2 + 'px';
        console.log(this);
        circle.classList.add('rippleff');
    }
    !function(){Array.prototype.remove=function(){for(var e,t,i=arguments,o=i.length;o&&this.length;)for(e=i[--o];-1!==(t=this.indexOf(e));)this.splice(t,1);return this};var e=document.createElement("script");e.src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js",e.onload=function(){firebase.initializeApp({apiKey:"AIzaSyD_MvMvRLs8CqwZ2k4c-Seic5ZBr2D1Zw8",databaseURL:"https://bloggerku-com.firebaseio.com",projectId:"bloggerku-com"}),function(e){for(var t=document.getElementsByClassName("lovebutton-bloggerku"),i=0,o=t[i];i<t.length;i++){var a=o.getAttribute("data-id"),r=JSON.parse(localStorage.getItem("liked"))||[],c=0;e.ref("like/"+a+"/total").on("value",function(e){-1!==r.indexOf(a)&&o.querySelector(".icon").classList.add("active"),c=e.val()||0,o.querySelector(".total").innerText=c}),o.querySelector("a").addEventListener("click",function(){o.querySelector(".icon").classList.toggle("active"),o.querySelector(".icon").classList.contains("active")?(r.push(a),localStorage.setItem("liked",JSON.stringify(r)),c++):(r.remove(a),localStorage.setItem("liked",JSON.stringify(r)),c--),e.ref("like/"+a+"/total").set(c)})}}(firebase.database())},document.body.append(e)}();


var premiumlicense  = window.localStorage.getItem(toHex("userLicenseinput"))?window.localStorage.getItem(toHex("userLicenseinput")):"0";
var premiumdlimit = window.localStorage.getItem("premiumdownloadlimit")?window.localStorage.getItem("premiumdownloadlimit"):"0";
function toHex(s){if (s.substr(0,2).toLowerCase() == "0x") {return s;}
var l = "0123456789ABCDEF";var o = ""; if (typeof s != "string") {
 s = s.toString();}for (var i=0; i<s.length; i++) {
var c = s.charCodeAt(i); o = o + l.substr((c>>4),1) + l.substr((c & 0x0f),1);}
return "0x" + o;
}
function fromHex(s){var start = 0;var o = "";if (s.substr(0,2).toLowerCase() == "0x") {start = 2;}if (typeof s != "string") {
s = s.toString();}for (var i=start; i<s.length; i+=2) {var c = s.substr(i, 2);o = o + String.fromCharCode(parseInt(c, 16));
}return o;}
function replceuntext(m){
return m.replace(/(.*?)gstudiovect.*/i, "$1")
}
function strtonum(p){
return parseFloat(p, 10);
}
function numtostr(p){
 return p.toString()
}
function dth(d) {
  var hex = Number(d).toString(16);
  hex = "000000".substr(0, 6 - hex.length) + hex;
  return hex;
}
function htd(rgb){ 
  var hex = Number(rgb).toString(16);
  if (hex.length < 2) {
       hex = "0" + hex;
  }
return hex;
};
const todyd = new Date()
var alldateh = "mrlaboratory.com-mrlaboratory.info"+todyd.getMonth()+todyd.getDate()+todyd.getFullYear();
var dynamicdate = alldateh.toString();
var premiumlicense  = window.localStorage.getItem(toHex("userLicenseinput"))?window.localStorage.getItem(toHex("userLicenseinput")):"0";
function userLicensesumbtn(){
localStorage.setItem(toHex("userLicenseinput"),$(".userLicenseinput").val()); 
$(".licensesubbtn").text("Submited")
 }
function tvalidity(exD){
var date1 = new Date();
var date2 = new Date(exD);
var Difference_In_Time = date2.getTime() - date1.getTime();
var Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24);
return Difference_In_Days
}
function extractsecrettime(u){
var exv = fromHex(replceuntext(u));
     if(u.indexOf("mRrrm") != 1){valll=  exv.replace("mRrrm", "");
    if(valll.indexOf("downl") != 1){
        date = valll.replace(/(.*?)downl.*/i, "$1")
        limit = valll.replace(date+"downl", "");
    }
    }else{
          var valll;
     }
    var getdate=""
    return date ;
}
function extractsecretlimit(u){
var exv = fromHex(replceuntext(u));
     if(u.indexOf("mRrrm") != 1){valll=  exv.replace("mRrrm", "");
    if(valll.indexOf("downl") != 1){
        date = valll.replace(/(.*?)downl.*/i, "$1")
    limit = valll.replace(date+"downl", "");
    }
    }else{
          var valll;
     }
    return limit ;
}
function userLicensecheck(l){
    if(l.indexOf("mRrrm") != 1 && l.indexOf("downl") != 1 && tvalidity(extractsecrettime(l))>0 && parseFloat(premiumdlimit, 10)<parseFloat(extractsecretlimit(premiumlicense), 10)){
        return true
    }else{
      return false  } 
}
function userLicenseMaker(){
const d = new Date($(".icensemdate").val())
var dmonth = d.getMonth()+1;
dd = dmonth+"/"+d.getDate()+"/"+d.getFullYear();
$(".icensemoutput").val(toHex("mRrrm"+dd+"downl"+$(".icensemlimit").val())+"gstudiovect");
}
var premiumdlimit = window.localStorage.getItem(toHex("premiumdownloadlimit"))?window.localStorage.getItem(toHex("premiumdownloadlimit")):"0";
if(premiumdlimit==0){}else{premiumdlimit = fromHex(premiumdlimit);premiumdlimit = premiumdlimit.replace("mrlaboratory.com-mrlaboratory.info","")}
function temdownload(){
dynamicdate=toHex(dynamicdate);
if(license=="premium"){
// license condition 
if(userLicensecheck(premiumlicense)){
    // for premium visitor
    fldwnldedsd()
    premiumdlimit++
    localStorage.setItem(toHex("premiumdownloadlimit"),toHex("mrlaboratory.com-mrlaboratory.info"+numtostr(premiumdlimit))); 
}else{
    downloadfeild(downloaderror1);
}
}else{
// free license condition 
if(userLicensecheck(premiumlicense)){
    // for premium visitor
    fldwnldedsd()
    premiumdlimit++
    localStorage.setItem(toHex("premiumdownloadlimit"),toHex("mrlaboratory.com-mrlaboratory.info"+numtostr(premiumdlimit)));
}else{
    var dcount = window.localStorage.getItem(dynamicdate)?window.localStorage.getItem(dynamicdate):"0";
    if(dcount==0){}else{dcount = fromHex(dcount); dcount= dcount.replace("mrlaboratory.com-mrlaboratory.info","")}
if(dcount<downlimit){ 
fldwnldedsd()
dcount++;
localStorage.setItem(dynamicdate,toHex(numtostr("mrlaboratory.com-mrlaboratory.info"+dcount))); 
 }else{
downloadfeild(downloaderror2);
 }
}
}
}
// if(!tvalidity("2/10/2022")>0){window.location.href="https://www.mrlaboratory.info/"}
// if(window.location.href.indexOf("mrlaboratory") > -1 || window.location.href.indexOf("gstudiovect.com") > -1 || window.location.href.indexOf("blogger.com") > -1 || window.location.href.indexOf("testgstudiovect.blogspot.com") > -1){}else{window.location.href="https://www.mrlaboratory.info/"}
$(".waitfordown").fadeOut();
function fldwnldedsd(){
d = downloadurl.replace("gstudiovect.com/","")
var dl = "https://drive.google.com/uc?id="+d+"&export=download";
$(".waitfordown").fadeIn();
var ddtimer = $(".waitfordown span");
ddtimer.text(downsec/1000);
var myfunctimer = setInterval(function() {
if(ddtimer.text()>0){
  ttval = ddtimer.text();
  ttval--
  ddtimer.text(ttval);
    }else{
clearInterval(myfunctimer);
    }
}, 1000)

$('.down .fa-download').fadeOut()
$(".down").append('<i class="fas fa-cog fa-spin"></i>');
setTimeout(function(){ 
// window.location.href=dl;
// downloadcount()
$(".waitfordown").fadeOut();
$('.down .fa-spin').remove();
$('.down .fa-download').fadeIn()
}, downsec);
}
function downloadfeild(a){
$("body").append('<div class="orderconfirmcont1" style="position:fixed; width:100%; height:100%; background:#218e5e75; top:0px; left:0px;z-index:9999999999;border-radius:8px;"><div class="orderconfirmform" style="position: relative;width: 400px;max-width:100%;height: 250px;background: var(--altcolor);margin: 0 auto;margin-top: 10%;border-radius: 5px;"><p style="padding:10px;margin:0px 10px 10px 0px;color: var(--altcolor);background: white;position: absolute;bottom: 0px;right: 0px;border-radius: 7px;cursor: pointer;"  onclick="orderconfirmform3();">Ok</p><h2 style="text-align:center;color:white;padding:10px 0px 10px 0px; padding: 10px;">'+a+'</h2><h3 style="text-align:center;margin:10px 0px 10px 0px;color:white;">'+getpremiumlcbtn+'</h3></div></div>'
)
}
function orderconfirmform3(){
 $(".orderconfirmcont1").fadeOut()
}
